<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Questions. Part 1 &nbsp; </title>

  
  <link rel="stylesheet" href="https://bege13mot.github.io/css/poole.css">
  <link rel="stylesheet" href="https://bege13mot.github.io/css/hyde.css">
  <link rel="stylesheet" href="https://bege13mot.github.io/css/hyde-overrides.css">
  <link rel="stylesheet" href="https://bege13mot.github.io/css/hyde-x.css">
  <link rel="stylesheet" href="https://bege13mot.github.io/css/highlight/sunburst.css">
  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://bege13mot.github.io/touch-icon-144-precomposed.png">
  <link href="/icon/fox.png" rel="icon">

  
  
  
  

  <meta name="description" content="">
  <meta name="keywords" content="">
  
</head>
<body>
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
            
        <img src="/icon/fox.png" alt="avatar" title="">    
      
      <h1></h1>
      
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="https://bege13mot.github.io/">Ivan V's Blog</a></li>
      
      <li class="sidebar-nav-item"><a href="https://bege13mot.github.io/about/">About</a></li>
      
      <li class="sidebar-nav-item"><a href="https://bege13mot.github.io/post/">Posts</a></li>
      
      <li class="sidebar-nav-item"><a href="https://bege13mot.github.io/tags/">Tags</a></li>
      
      <li class="sidebar-nav-item"><a href="https://bege13mot.github.io/categories/">Categories</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="https://github.com/Bege13mot"><img src="/icon/github.svg" class="fa"></img></a>
      <a href="https://www.goodreads.com/user/show/5520080-ivan"><img src="/icon/goodreads.svg" class="fa"></img></a>
      <a href="mailto:bege13mot@gmail.com"><img src="/icon/mail.svg" class="fa"></img></a>
      <a href="https://ru.linkedin.com/in/voronchihin"><img src="/icon/linkedin.svg" class="fa"></img></a>      
      <a href="https://bege13mot.github.io/index.xml" type="application/rss+xml"><img src="/icon/rss.svg" class="fa"></img></a>
      </li>
    </ul>

    

  </div>
</div>


<div class="content container">
  <div class="post">
    <h1>Questions. Part 1</h1>
    

<p>Questions from <a href="https://github.com/chassing/linux-sysadmin-interview-questions">chassing/linux-sysadmin-interview-questions</a>
Inspired by <a href="https://jivoi.github.io/2016/01/22/linux-sysadm-devops-interview-questions/">collection of Linux SysAdm/DevOps interview questions with my answers</a></p>

<h3 id="general-questions">General Questions:</h3>

<p><details>
<summary><b>What function does DNS play on a network?</b></summary><br></p>

<ol>
<li>The first place your computer looks is its local DNS cache, which stores information that your computer has recently retrieved.</li>
<li>If the information is not stored locally, your computer queries (contacts) your ISP’s recursive DNS servers.</li>
<li>If the recursive servers don’t have the answer, they query the root nameservers. A nameserver is a computer that answers questions about domain names, such as IP addresses.</li>
<li>The root nameservers will look at the first part of our request, reading from right to left — www.dyn.com — and direct our query to the Top-Level Domain (TLD) nameservers for .com.</li>
<li>The TLD nameservers review the next part of our request — www.dyn.com — and direct our query to the nameservers responsible for this specific domain.</li>
<li>The recursive server retrieves the A record for dyn.com from the authoritative nameservers and stores the record in its local cache.</li>
<li>Armed with the answer, recursive server returns the A record back to your computer. Your computer stores the record in its cache, reads the IP address from the record, then passes this information to your browser.
</details></li>
</ol>

<p><details>
<summary><b>What is HTTP?</b></summary><br></p>

<ul>
<li>HTTP (Hypertext Transfer Protocol) - works in a client and server model like most other protocols. A web browser using which a request is initiated is called as a client and a web server software which responds to that request is called a server. HTTP allows improvement of its request and response with the help of intermediates, for example a gateway, a proxy, or a tunnel. The resources that can be requested using the HTTP protocol, are made available using a certain type of URI (Uniform Resource Identifier) called a URL (Uniform Resource Locator). TCP (Transmission Control Protocol) is used to establish a connection to the application layer port 80 used by HTTP.
</details></li>
</ul>

<p><details>
<summary><b>What is an HTTP proxy and how does it work?</b></summary><br></p>

<ul>
<li>A HTTP proxy  - speaks the HTTP protocol, it&rsquo;s especially made for HTTP connections but can be abused for other protocols as well (which is kinda standard already). The browser (CLIENT) sends something like &ldquo;GET <a href="http://host.tld/path">http://host.tld/path</a> HTTP/1.1&rdquo; to the PROXY and the PROXY will then forward the request to the SERVER. The SERVER will only see the PROXY as connection and answer to the PROXY just like to a CLIENT. The PROXY receives the response and forwards it back to the CLIENT.
</details></li>
</ul>

<p><details>
<summary><b>Describe briefly how HTTPS works.</b></summary><br></p>

<p>HTTPS takes the well-known and understood HTTP protocol, and simply layers a SSL/TLS encryption layer on top of it. Servers and clients still speak exactly the same HTTP to each other, but over a secure SSL connection that encrypts and decrypts their requests and responses.
* We will break the handshake up into 3 main phases - Hello, Certificate Exchange and Key Exchange.
* Hello - The handshake begins with the client sending a <code>ClientHello</code> message. This contains all the information the server needs in order to connect to the client via SSL, including the various cipher suites and maximum SSL version that it supports. The server responds with a ServerHello, which contains similar information required by the client, including a decision based on the client’s preferences about which cipher suite and version of SSL will be used.
* Certificate Exchange - Now that contact has been established, the server has to prove its identity to the client. This is achieved using its SSL certificate, which is a very tiny bit like its passport. An SSL certificate contains various pieces of data, including the name of the owner, the property (eg. domain) it is attached to, the certificate’s public key, the digital signature and information about the certificate’s validity dates. The client checks that it either implicitly trusts the certificate, or that it is verified and trusted by one of several Certificate Authorities (CAs) that it also implicitly trusts.
* Key Exchange - The encryption of the actual message data exchanged by the client and server will be done using a symmetric algorithm, the exact nature of which was already agreed during the Hello phase. A symmetric algorithm uses a single key for both encryption and decryption, in contrast to asymmetric algorithms that require a public/private key pair. Both parties need to agree on this single, symmetric key, a process that is accomplished securely using asymmetric encryption and the server’s public/private keys.
</details></p>

<p><details>
<summary><b>What is SMTP? Give the basic scenario of how a mail message is delivered via SMTP.</b></summary><br></p>

<ul>
<li>Simple Mail Transfer Protocol (SMTP) - based on end-to-end message delivery. An (SMTP) client contacts the destination host&rsquo;s SMTP server on well-known port 25, to deliver the mail. The client then waits for the server to send a 220 READY FOR MAIL message. Upon receipt of the 220 message, the client sends a HELO command. The server then responds with a &ldquo;250 Requested mail action okay&rdquo; message.
</details></li>
</ul>

<p><details>
<summary><b>What is RAID? What is RAID0, RAID1, RAID5, RAID10?</b></summary><br></p>

<ol>
<li>RAID 0 - Minimum 2 disks, No redundancy (no mirror, no parity), Excellent performance</li>
<li>RAID 1 - Minimum 2 disks, Excellent redundancy (as blocks are mirrored), Good performance (no striping, no parity)</li>
<li>RAID 5 - Minimum 3 disks, Good redundancy (distributed parity), Good performance (as blocks are striped)</li>
<li>RAID 10 - Minimum 4 disks, Excellent redundancy (as blocks are mirrored), Excellent performance (as blocks are striped)
</details></li>
</ol>

<p><details>
<summary><b>What is a level 0 backup? What is an incremental backup?</b></summary><br></p>

<p>A full backup is level 0. A level n backup will back up everything that has changed since the most recent level n-1 backup. Suppose for instance that a level 0 backup was taken on a Sunday. A level 1 backup taken on Monday would include only changes made since Sunday.
</details></p>

<p><details>
<summary><b>Describe the general file system hierarchy of a Linux system.</b></summary><br></p>

<ol>
<li>/ – Root. Every single file and directory starts from the root directory. Only root user has write privilege under this directory.</li>
<li>/bin – User Binaries. Contains binary executables.</li>
<li>/sbin – System Binaries. Just like /bin, /sbin also contains binary executables.</li>
<li>/etc – Configuration Files. Contains configuration files required by all, also contains startup and shutdown shell scripts used to start/stop individual programs.</li>
<li>/dev – Device Files. Contains device files. These include terminal devices, usb, or any device attached to the system.</li>
<li>/proc – Process Information. Contains information about system process. This is a pseudo filesystem contains information about running process.</li>
<li>/var – Variable Files. Content of the files that are expected to grow can be found under this directory.</li>
<li>/tmp – Temporary Files. Directory that contains temporary files created by system and users. Files under this directory are deleted when system is rebooted.</li>
<li>/usr – User Programs. Contains binaries, libraries, documentation, and source-code for second level programs.</li>
<li>/home – Home Directories. Home directories for all users to store their personal files.</li>
<li>/boot – Boot Loader Files. Contains boot loader related files.</li>
<li>/lib – System Libraries. Contains library files that supports the binaries located under /bin and /sbin</li>
<li>/opt – Optional add-on Applications. Contains add-on applications from individual vendors.</li>
<li>/mnt – Mount Directory. Temporary mount directory where sysadmins can mount filesystems.</li>
<li>/media – Removable Media Devices. Temporary mount directory for removable devices.</li>
<li>/srv – Service Data. Contains server specific services related data.
</details></li>
</ol>

<h3 id="simple-linux-questions">Simple Linux Questions:</h3>

<p><details>
<summary><b>What is the name and the UID of the administrator user?</b></summary><br></p>

<p>root UID 0, can check by <code>id root</code>
</details></p>

<p><details>
<summary><b>Which command will show you free/used memory? Does free memory exist on Linux?</b></summary><br></p>

<ul>
<li><code>free -m, cat /proc/meminfo, vmstat, top, htop</code></li>
<li>Linux is borrowing unused memory for disk caching. Both you and Linux agree that memory taken by applications is &ldquo;used&rdquo;, while memory that isn&rsquo;t used for anything is &ldquo;free&rdquo;. To see how much ram your applications could use without swapping, run <code>free -m</code> and look at the &ldquo;available&rdquo; column.
</details></li>
</ul>

<p><details>
<summary><b>How to search for the string &ldquo;my konfi is the best&rdquo; in files of a directory recursively?</b></summary><br></p>

<ul>
<li><code>find ./# -type f -exec grep -H 'my konfi is the best' {} \;</code></li>
<li><code>grep -r 'my konfi is the best' ./*</code>
</details></li>
</ul>

<p><details>
<summary><b>I get &ldquo;command not found&rdquo; when I run ifconfig -a. What can be wrong?</b></summary><br></p>

<ol>
<li><code>net-tools</code> package is not installed in your system.</li>
<li>you dont have <code>/sbin</code> directory in your <code>$PATH</code>, so just write full path for command -  <code>/sbin/ifconfig -a</code>
</details></li>
</ol>

<p><details>
<summary><b>What commands do you know that can be used to check DNS records?</b></summary><br></p>

<ul>
<li><code>host example.com</code></li>
<li><code>nslookup example.com</code></li>
<li><code>dig example.com</code>
</details></li>
</ul>

<p><details>
<summary><b>What Unix/Linux commands will alter a files ownership, files permissions?</b></summary><br></p>

<ul>
<li><code>chown</code> - command to change file owner and group information.</li>
<li><code>chmod</code> - command to change file access permissions such as read, write, and access.
</details></li>
</ul>

<p><details>
<summary><b>What does chmod +x FILENAMEdo?</b></summary><br></p>

<p>This command will set executation bit to FILENAME for everybody owner\group\other.
</details></p>

<p><details>
<summary><b>What does the permission 750 on a file mean?</b></summary><br></p>

<p>This permissions means that owner can read\write\execute this file, also members of group can read and execute, other users can do nothing with it.
</details></p>

<p><details>
<summary><b>What does the permission 750 on a directory mean?</b></summary><br></p>

<p>This permissions means that owner can read\write\execute(see file list of directory) this directory, also members of group can read and list, other users can do nothing with it.
</details></p>

<p><details>
<summary><b>How to add a new system user without login permissions?</b></summary><br></p>

<ul>
<li>You can use the -M switch (make sure it&rsquo;s a capital) to ensure no home directory will be created: <code>useradd -M subversion</code></li>
<li>Then lock the account to prevent logging in: <code>usermod -L subversion</code>
</details></li>
</ul>

<p><details>
<summary><b>How to add/remove a group from a user?</b></summary><br></p>

<ul>
<li><code>usermod -a -G group user</code> - adding a user to a group</li>
<li><code>gpasswd -d user group</code> - You can use gpasswd</li>
</ul>

<p></details></p>

<p><details>
<summary><b>What is a bash alias?</b></summary><br></p>

<p><code>alias alias_name=&quot;command_to_run&quot;</code>
</details></p>

<p><details>
<summary><b>How do you set the mail address of the root/a user?</b></summary><br></p>

<ul>
<li><code>edit /etc/aliases file</code></li>
<li><code>root: system@mydomain.com, linux@mydomain.com</code>
</details></li>
</ul>

<p><details>
<summary><b>What is in /etc/services?</b></summary><br></p>

<p>UNIX operating systems store what&rsquo;s called a services file at <code>/etc/services</code>. It stores information about numerous services that client applications might use on the computer. Within the file is the service name, port number and protocol it uses, and any applicable aliases. The port numbers are mapped to specific services much like the hosts file on Windows computers map a hostname to an IP address.
</details></p>

<p><details>
<summary><b>How to redirect STDOUT and STDERR in bash? (&gt; /dev/null 2&gt;&amp;1)</b></summary><br></p>

<p>There are always three default files open, stdin (the keyboard), stdout (the screen), and stderr (error messages output to the screen). These, and any other open files, can be redirected. Redirection simply means capturing output from a file, command, program, script, or even code block within a script and sending it as input to another file, command, program, or script.
</details></p>

<p><details>
<summary><b>Explain the three load averages and what do they indicate. What command can be used to view the load averages?</b></summary><br></p>

<ul>
<li><code>top</code></li>
<li><code>cat /proc/loadavg</code> - The three numbers after load average -  1.00, 1.01, 0.98 - represent the 1-, 5-, and 15-minute load averages on the machine. A system load average is equal to the average number of processes in a runnable or uninterruptible state. Runnable processes are either currently using the CPU or waiting to do so, and uninterruptible processes are waiting for I/O.
</details></li>
</ul>

<p><details>
<summary><b>What is a Linux kernel module?</b></summary><br></p>

<p>Modules are pieces of code that can be loaded and unloaded into the kernel upon demand. They extend the functionality of the kernel without the need to reboot the system. For example, one type of module is the device driver, which allows the kernel to access hardware connected to the system.
</details></p>

<p><details>
<summary><b>Walk me through the steps in booting into single user mode to troubleshoot a problem.</b></summary><br></p>

<ol>
<li>Wait until the BIOS has finished loading, or has almost finished.</li>
<li>Quickly press and hold the Shift key, which will bring up the GNU GRUB menu. (If you see the Ubuntu logo, you&rsquo;ve missed the point where you can enter the GRUB menu.)</li>
<li>Select the line which starts with &ldquo;Advanced options&rdquo; and Select the line ending with &ldquo;(recovery mode)&rdquo;</li>
<li>Press Return and your machine will begin the boot process.</li>
<li>After a few moments, your workstation should display a menu with a number of options. One of the options (you may need to scroll down to the bottom of the list) will be &ldquo;Drop to root shell prompt&rdquo;. Press Return with this option highlighted.</li>
<li>The root partition is mounted read-only. To mount it read/write, enter the command - <code>mount -o remount,rw /</code>
</details></li>
</ol>

<p><details>
<summary><b>Walk me through the steps you&rsquo;d take to troubleshoot a 404 error on a web application you administer.</b></summary><br></p>

<ul>
<li>The 404 status code, or a Not Found error, means that the user is able to communicate with the server but it is unable to locate the requested file or resource.</li>
<li>Does the link that directed the user to your server resource have a typographical error in it?</li>
<li>Did the user type in the wrong URL?</li>
<li>Does the file exist in the correct location on the server? Was the resource was moved or deleted on the server?</li>
<li>Does the server configuration have the correct document root location?</li>
<li>Does the user that owns the web server worker process have privileges to traverse to the directory that the requested file is in?</li>
<li>Is the resource being accessed a symbolic link? If so, ensure the web server is configured to follow symbolic links</li>
</ul>

<h3 id="medium-linux-questions">Medium Linux Questions:</h3>

<p><details>
<summary><b>What do the following commands do and how would you use them? <code>tee</code>, <code>awk</code>, <code>tr</code>, <code>cut</code>, <code>tac</code> </b></summary><br></p>

<ul>
<li><code>tee</code> - Reads from standard input, and writes to standard output and to files. Example: <code>ls -1 *.txt | wc -l | tee count.txt</code></li>
<li><code>awk</code> - The awk is most useful when handling text files that are formatted in a predictable way. For instance, it is excellent at parsing and manipulating tabular data. It operates on a line-by-line basis and iterates through the entire file.The awk syntax looks like this: <code>awk '{print}' /etc/fstab</code></li>
<li><code>tr</code> - utility for translating, or deleting, or squeezing repeated characters. For example: <code>tr a-z A-Z thegeekstuff THEGEEKSTUFF</code></li>
<li><code>cut</code> - The command cut is used for text processing. The example displays only the first field of each lines from /etc/passwd file using the field delimiter : (colon). In this case, the 1st field is the username. <code>cut -d ':' -f 1 &lt; /etc/passwd</code></li>
<li><code>tac</code> - (which is &ldquo;cat&rdquo; backwards) concatenate and print files in reverse. For example you can use this command like this: <code>cat ok - 1 2 3 tac ok - 3 2 1</code></li>
<li><code>curl</code> - Curl is a tool to transfer data from or to a server, using one of the supported protocols. For example:<code>curl https://example.com</code></li>
<li><code>wget</code> - Wget is a free utility for non-interactive download of files from the Web. Wget is non-interactive, meaning that it can work in the background, while the user is not logged on.
For example: <code>wget -S https://example.com</code></li>
<li><code>watch</code> - runs command repeatedly, displaying its output and errors (the first screenfull). This allows you to watch the program output change over time. By default, the program is run every 2 seconds. To watch the contents of a directory change, you could use: <code>watch -d ls -l</code></li>
<li><code>head</code> - Print the first 10 lines of each FILE to standard output.With more than one FILE, precede each with a header giving the file name. Example - <code>head /etc/passws</code></li>
<li><code>tail</code> - Print the last 10 lines of each FILE to standard output
</details></li>
</ul>

<p><details>
<summary><b>What does an <code>&amp;</code> after a command do?</b></summary><br></p>

<ul>
<li><code>perl script.pl &gt; output.log &amp;</code> - The <code>&amp;</code> makes the command run in the background. If you forget to add <code>&amp;</code> after command, you can stop the current running process with Ctrl-Z and continue it in the background with bg (or in the foreground with fg).
</details></li>
</ul>

<p><details>
<summary><b>What does <code>&amp; disown</code> after a command do?</b></summary><br></p>

<ul>
<li><code>&amp;</code> puts the job in the background, that is, makes it block on attempting to read input, and makes the shell not wait for its completion.</li>
<li><code>disown</code> removes the process from the shell&rsquo;s job control, but it still leaves it connected to the terminal. One of the results is that the shell won&rsquo;t send it a SIGHUP. Obviously, it can only be applied to background jobs, because you cannot enter it when a foreground job is running.
</details></li>
</ul>

<p><details>
<summary><b>What is a packet filter and how does it work?</b></summary><br></p>

<p>Packet filters act by inspecting the &ldquo;packets&rdquo; which are transferred between computers on the Internet. If a packet does not match the packet filter&rsquo;s set of filtering rules, the packet filter will drop.
</details></p>

<p><details>
<summary><b>What is Virtual Memory?</b></summary><br></p>

<p>In computing, virtual memory is a memory management technique that is implemented using both hardware and software. It maps memory addresses used by a program, called virtual addresses, into physical addresses in computer memory. Main storage as seen by a process or task appears as a contiguous address space or collection of contiguous segments. The operating system manages virtual address spaces and the assignment of real memory to virtual memory.
</details></p>

<p><details>
<summary><b>What is swap and what is it used for?</b></summary><br></p>

<ul>
<li>Swap is a special type of memory. Swap space in Linux is used when the amount of physical memory (RAM) is full. If the system needs more memory resources and the RAM is full, inactive pages in memory are moved to the swap space. While swap space can help machines with a small amount of RAM, it should not be considered a replacement for more RAM. Swap space is located on hard drives, which have a slower access time than physical memory.
</details></li>
</ul>

<p><details>
<summary><b>What is an A record, an NS record, a PTR record, a CNAME record, an MX record?</b></summary><br></p>

<ul>
<li>A record - Returns a 32-bit IPv4 address</li>
<li>NS record - Delegates a DNS zone to use the given authoritative name servers. Name server record</li>
<li>PTR record - Pointer to a canonical name. Unlike a CNAME, DNS processing stops and just the name is returned. The most common use is for implementing reverse DNS lookups. Pointer record</li>
<li>CNAME record - Alias of one name to another: the DNS lookup will continue by retrying the lookup with the new name.</li>
<li>MX record - Maps a domain name to a list of message transfer agents for that domain. Mail exchange record
</details></li>
</ul>

<p><details>
<summary><b>What is a Split-Horizon DNS?</b></summary><br></p>

<ul>
<li>This facility can provide a mechanism for security and privacy management by logical or physical separation of DNS information for network-internal access (within an administrative domain, e.g., company) and access from an unsecure, public network (e.g. the Internet).</li>
<li>Implementation of split-horizon DNS can be accomplished with hardware-based separation or by software solutions. Hardware-based implementations run distinct DNS server devices for the desired access granularity within the networks involved. Software solutions use either multiple DNS server processes on the same hardware or special server software with the built-in capability of discriminating access to DNS zone records.
</details></li>
</ul>

<p><details>
<summary><b>What is the sticky bit?</b></summary><br></p>

<ul>
<li><code>sudo chmod +t /tmp</code> - A sticky bit is a permission bit that is set on a directory that allows only the owner of the file within that directory or the root user to delete or rename the file. No other user has the needed privileges to delete the file created by some other user.
</details></li>
</ul>

<p><details>
<summary><b>What does the immutable bit do to a file?</b></summary><br></p>

<ul>
<li><code>chattr +i file</code> - A file with an immutable attribute can not be:Modified,Deleted,Renamed,No soft or hard link created by anyone including root user.
</details></li>
</ul>

<p><details>
<summary><b>What is the difference between hardlinks and symlinks? What happens when you remove the source to a symlink/hardlink?</b></summary><br></p>

<ul>
<li>A hardlink isn&rsquo;t a pointer to a file, it&rsquo;s a directory entry (a file) pointing to the same inode. Even if you change the name of the other file, a hardlink still points to the file. If you replace the other file with a new version (by copying it), a hardlink will not point to the new file.</li>
<li>On the other hand, a symlink is actually pointing to another path (a file name); it resolves the name of the file each time you access it through the symlink. If you move the file, the symlink will not follow. If you replace the file with another one, keeping the name, the symlink will point to the new file.
</details></li>
</ul>

<p><details>
<summary><b>What is an inode and what fields are stored in an inode?</b></summary><br></p>

<ul>
<li>inode is a &ldquo;database&rdquo; of all file information that tells about file structure. The inode of each file uses a pointer to point to the specific file, directory or object. The pointer is a unique number which usually is referred to as the inode number.</li>
<li>An inode is a data structure in Unix that contains metadata about a file. Some of the items contained in an inode are: mode, owner (UID, GID), size, atime, ctime, mtime, acl’s, blocks list of where the data is
</details></li>
</ul>

<p><details>
<summary><b>How to force/trigger a file system check on next reboot?</b></summary><br></p>

<ul>
<li><code>touch /forcefsck</code> - The simplest way to force fsck filesystem check on a root partition eg. /dev/sda1 is to create an empty file called forcefsck in the partition&rsquo;s root directory. This empty file will temporarily override any other settings and force fsck to check the filesystem on the next system reboot. Once the filesystem is checked the forcefsck file will be removed thus next time you reboot your filesystem will NOT be checked again.
</details></li>
</ul>

<p><details>
<summary><b>What is SNMP and what is it used for?</b></summary><br></p>

<ul>
<li>Simple Network Management Protocol - is a widely used protocol for monitoring the health and welfare of network equipment (eg. routers), computer equipment and even devices.
It is commonly used by network and system administrators to gather operational statistics(such as measuring network bandwidth traffic, cpu usage, or available hard drive space) as well as setting system parameters.
</details></li>
</ul>

<p><details>
<summary><b>What is a runlevel and how to get the current runlevel?</b></summary><br></p>

<ul>
<li>To check the runlevel of you system you can use runlevel command with no arguments: <code>runlevel</code></li>
<li>A system can be booted into (i.e., started up into) any of several runlevels, each of which is represented by a single digit integer.

<ul>
<li>0 - System halt; no activity, the system can be safely powered down.</li>
<li>1 - Single user; rarely used.</li>
<li>2 - Multiple users, no NFS (network filesystem); also used rarely.</li>
<li>3 - Multiple users, command line (i.e., all-text mode) interface; the standard runlevel for most Linux-based server hardware.</li>
<li>4 - User-definable</li>
<li>5 - Multiple users, GUI (graphical user interface); the standard runlevel for most Linux-based desktop systems.</li>
<li>6 - Reboot; used when restarting the system.
</details></li>
</ul></li>
</ul>

<p><details>
<summary><b>What is SSH port forwarding?</b></summary><br></p>

<ul>
<li>SH port forwarding - a mechanism in SSH for tunneling application ports from the client machine to the server machine, or vice versa.</li>
<li>Imagine you’re on a private network which doesn’t allow connections to a specific server. Let’s say you’re at work and imgur.com is being blocked. To get around this we can create a tunnel through a server which isn’t on our network and thus can access Imgur: <code>ssh -L 9000:imgur.com:80 user@example.com</code></li>
<li>The key here is <code>-L</code> which says we’re doing local port forwarding. Then it says we’re forwarding our local port 9000 to imgur.com:80, which is the default port for HTTP. Now open your browser and go to <a href="http://localhost:9000">http://localhost:9000</a>.</li>
<li>You need to have another computer, which is publicly accessible and have SSH access to it. It can be any server on the internet, as long as you can connect to it. We’ll tell SSH to make a tunnel that opens up a new port on the server, and connects it to a local port on your machine: <code>ssh -R 9000:localhost:3000 user@example.com</code>
</details></li>
</ul>

<p><details>
<summary><b>What is the difference between local and remote port forwarding?</b></summary><br></p>

<ul>
<li>Local port forwarding from A to B should be identical to remote port forwarding from B to A (and vice versa). An outgoing tunnel from A to B (viewed from A) should be equal to an incoming tunnel from A to B (viewed from B).</li>
<li>Local port forwarding creates an outgoing tunnel which can be used to bring a public internet computer to local machine. A local user can access a remote host:port combination on a local host, because the given port on the local (client) host is forwarded to the given host and port on the remote side: <code>ssh -L local_port:remote_host:remote_port user@hostname</code></li>
<li>Remote port forwarding creates an incoming tunnel which can be used to bring a local computer into the public internet. An internet user can access a certain local host:port combination on a remote host. The given port on the remote (server) host is forwarded to the given host and port on the local side: <code>ssh -R local_port:remote_host:remote_port user@hostname</code>
</details></li>
</ul>

<p><details>
<summary><b>What are the steps to add a user to a system without using useradd/adduser?</b></summary><br></p>

<ol>
<li>Edit <code>/etc/passwd</code> with <code>vipw</code> and add a new line for the new account. Do not edit directly with an editor. vipw locks the file, so that other commands won&rsquo;t try to update it at the same time. You should make the password field be <code>*</code>, so that it is impossible to log in.</li>
<li>Similarly, edit <code>/etc/group</code> with <code>vigr</code>, if you need to create a new group as well.</li>
<li>Create the home directory of the user with <code>mkdir</code>.</li>
<li>Copy the files from <code>/etc/skel</code> to the new home directory.</li>
<li>Fix ownerships and permissions with <code>chown</code> and <code>chmod</code>. The -R option is most useful.</li>
<li>Set the password with <code>passwd</code>.</li>
<li>After you set the password in the last step, the account will work. You shouldn&rsquo;t set it until everything else has been done, otherwise the user may inadvertently log in while you&rsquo;re still copying the files.
</details></li>
</ol>

<p><details>
<summary><b>What is MAJOR and MINOR numbers of special files?</b></summary><br></p>

<ul>
<li>Char devices are accessed through names in the filesystem. Those names are called special files or device files or simply nodes of the filesystem tree; they are conventionally located in the /dev directory. Special files for char drivers are identified by a &ldquo;c&rdquo; in the first column of the output of ls -l. Block devices appear in /dev as well, but they are identified by a &ldquo;b.&rdquo; The focus of this chapter is on char devices, but much of the following information applies to block devices as well.

<ul>
<li>MAJOR - the major number identifies the driver associated with the device. For example, <code>/dev/null</code> and <code>/dev/zero</code> are both managed by driver 1, whereas virtual consoles and serial terminals are managed by driver 4/</li>
<li>MINOR - The minor number is used by the kernel to determine exactly which device is being referred to.
</details></li>
</ul></li>
</ul>

<p><details>
<summary><b>Describe the <code>mknod</code> command and when you&rsquo;d use it.</b></summary><br></p>

<p><code>mknod</code> was originally used to create the character and block devices that populate /dev/. Nowadays software like udev automatically creates and removes device nodes on the virtual filesystem when the corresponding hardware is detected by the kernel, but originally /dev was just a directory in / that was populated during install.
</details></p>

<p><details>
<summary><b>Describe a scenario when you get a &ldquo;filesystem is full&rdquo; error, but &lsquo;df&rsquo; shows there is free space.</b></summary><br></p>

<ul>
<li>The filesystem can run out of inodes, <code>df -i</code> will show that. The inode is a data structure in a Unix-style file system that describes a filesystem object such as a file or a directory.
</details></li>
</ul>

<p><details>
<summary><b>Describe a scenario when deleting a file, but <code>df</code> not showing the space being freed.</b></summary><br></p>

<p>causing it to not be deleted; restart or kill that process to release the file.
* <code>lsof +L1</code> - to find out which process is using a deleted (unlinked) file.
</details></p>

<p><details>
<summary><b>Describe how <code>ps</code> works.</b></summary><br></p>

<p>On Linux, the ps command works by reading files in the proc filesystem. The directory <code>/proc/PID</code> contains various files that provide information about process PID. The content of these files is generated on the fly by the kernel when a process reads them. <code>strace -e open ps</code>
</details></p>

<p><details>
<summary><b>What happens to a child process that dies and has no parent process to wait for it and what’s bad about this?</b></summary><br></p>

<p>Zombie processes don’t use up any system resources. However, each zombie process retains its process ID (PID). Linux systems have a finite number of process IDs – 32767 by default on 32-bit systems. If zombies are accumulating at a very quick rate – for example, if improperly programmed server software is creating zombie processes under load — the entire pool of available PIDs will eventually become assigned to zombie processes, preventing other processes from launching.
One way is by sending the SIGCHLD signal to the parent process. This signal tells the parent process to execute the wait() system call and clean up its zombie children. Send the signal with the kill command, replacing pid in the command below with the parent process’s PID:  <code>kill -s SIGCHLD pid</code>
</details></p>

<p><details>
<summary><b>Explain briefly each one of the process states.</b></summary><br></p>

<ul>
<li>R - running or runnable (on run queue)</li>
<li>D - uninterruptible sleep (usually IO)</li>
<li>S - interruptible sleep (waiting for an event to complete)</li>
<li>Z - defunct/zombie, terminated but not reaped by its parent</li>
<li>T - stopped, either by a job control signal or because it is being traced
</details></li>
</ul>

<p><details>
<summary><b>How to know which process listens on a specific port?</b></summary><br></p>

<ul>
<li><code>netstat -tulpn</code> – a command-line tool that displays network connections, routing tables, and a number of network interface statistics.</li>
<li><code>lsof -i :80 | grep LISTEN</code> – a command line tool to list open files under Linux / UNIX to report a list of all open files and the processes that opened them.
</details></li>
</ul>

<p><details>
<summary><b>What is a zombie process and what could be the cause of it?</b></summary><br></p>

<p>When a process dies on Linux, it isn’t all removed from memory immediately — its process descriptor stays in memory (the process descriptor only takes a tiny amount of memory). The process’s status becomes EXIT_ZOMBIE and the process’s parent is notified that its child process has died with the SIGCHLD signal. The parent process is then supposed to execute the wait() system call to read the dead process’s exit status and other information.
</details></p>

<p><details>
<summary><b>You run a bash script and you want to see its output on your terminal and save it to a file at the same time. How could you do it?</b></summary><br></p>

<p><code>update-client | tee my.log</code>
</details></p>

<p><details>
<summary><b>Explain what <code>echo &quot;1&quot; &gt; /proc/sys/net/ipv4/ip_forward</code> does.</b></summary><br></p>

<p>By default any modern Linux distributions will have IP Forwarding disabled. This is normally a good idea, as most peoples will not need IP Forwarding, but if we are setting up a Linux router/gateway or maybe a VPN server (pptp or ipsec) or just a plain dial-in server then we will need to enable forwarding. This can be done in several ways that I will present bellow.
</details></p>

<p><details>
<summary><b>Describe briefly the steps you need to take in order to create and install a valid certificate for the site <a href="https://foo.example.com">https://foo.example.com</a>.</b></summary><br></p>

<ol>
<li>Нou need to generate a private key, and a CSR file (Certificate Signing Request). You&rsquo;ll be asked for the content of the CSR file when ordering the certificate.</li>
<li>Purchase the certificate, follow the steps on their site, and you should soon get an email with your PositiveSSL Certificate. It contains a zip file with the following:</li>
<li>Install the Commodo SSL cert</li>
<li>Combine everything for nginx
</details></li>
</ol>

<p><details>
<summary><b>Can you have several HTTPS virtual hosts sharing the same IP?</b></summary><br></p>

<ul>
<li>Although hosting several sites on a single virtual private server is not a challenge with the use of virtual hosts, providing separate SSL certificates for each site traditionally required separate IP addresses. The process has recently been simplified through the use of Server Name Indication (SNI), which sends a site visitor the certificate that matches the requested server name.
SNI can only be used for serving multiple SSL sites from your web server and is not likely to work at all on other daemons, such as mail servers, etc.
</details></li>
</ul>

<p><details>
<summary><b>What is a wildcard certificate?</b></summary><br></p>

<p>In computer networking, a wildcard certificate is a public key certificate which can be used with multiple subdomains of a domain. The principal use is for securing web sites with HTTPS, but there are also applications in many other fields. Compared with conventional certificates, a wildcard certificate can be cheaper and more convenient than a certificate for each domain.
</details></p>

<p><details>
<summary><b>Which Linux file types do you know?</b></summary><br></p>

<ol>
<li>Regular file(-)</li>
<li>Directory files(d)</li>
<li>Special files

<ol>
<li>Block file(b)</li>
<li>Character device file&copy;</li>
<li>Named pipe file or just a pipe file(p)</li>
<li>Symbolic link file(l)</li>
<li>Socket file(s)
</details></li>
</ol></li>
</ol>

<p><details>
<summary><b>What is the difference between a process and a thread? And parent and child processes after a fork system call?</b></summary><br></p>

<ul>
<li>Both processes and threads are independent sequences of execution. The typical difference is that threads (of the same process) run in a shared memory space, while processes run in separate memory spaces.</li>
<li>A thread is a lightweight process. Each process has a separate stack, text, data and heap. Threads have their own stack, but share text, data and heap with the process. Text is the actual program itself, data is the input to the program and heap is the memory which stores files, locks, sockets.</li>
<li>The fork call basically makes a duplicate of the current process, identical in almost every way (not everything is copied over, for example, resource limits in some implementations but the idea is to create as close a copy as possible).
The new process (child) gets a different process ID (PID) and has the the PID of the old process (parent) as its parent PID (PPID). Because the two processes are now running exactly the same code, they can tell which is which by the return code of fork - the child gets 0, the parent gets the PID of the child.
</details></li>
</ul>

<p><details>
<summary><b>What is the difference between exec and fork?</b></summary><br></p>

<ul>
<li>The fork call basically makes a duplicate of the current process, identical in almost every way (not everything is copied over, for example, resource limits in some implementations but the idea is to create as close a copy as possible).
The new process (child) gets a different process ID (PID) and has the the PID of the old process (parent) as its parent PID (PPID). Because the two processes are now running exactly the same code, they can tell which is which by the return code of fork - the child gets 0, the parent gets the PID of the child.</li>
<li>The exec call is a way to basically replace the entire current process with a new program. It loads the program into the current process space and runs it from the entry point.</li>
<li>So, fork and exec are often used in sequence to get a new program running as a child of a current process. Shells typically do this whenever you try to run a program like find - the shell forks, then the child loads the find program into memory, setting up all command line arguments, standard I/O and so forth.
</details></li>
</ul>

<p><details>
<summary><b>What is <code>nohup</code> used for?</b></summary><br></p>

<p>First of all, every time you execute a command, you shell will fork a new process, regardless of whether you run it with <code>&amp;</code> or not. <code>&amp;</code> only means you&rsquo;re running it in the background.
* <code>nohup</code> - tells the new process to ignore SIGHUP. It is the signal sent by the kernel when the parent shell is closed.</p>

<p></details></p>

<p><details>
<summary><b>What is the difference between these two commands? <code>myvar=hello</code> and <code>export myvar=hello</code></b></summary><br></p>

<p>The 1st one sets the value to the variable. For instance you can do
<code>echo $MAVEN_OPTS</code>
and have it return the value but if you would issue that outside your shell you will have an empty string returned.
In comes <code>export</code>.
<code>Export</code> is an instruction to the shell. It tells the shell to make this environment variable available to other programs. Without the <code>export</code>, they are only available within the shell itself.
If you want the variable to be permanently available ssh reads <code>~/.ssh/environment</code>,ssh2 reads <code>/etc/environment</code> and <code>~/.ssh2/environment</code>, and adds lines of the format VARNAME=value to the environment. From the ssh man page.</p>

<p></details></p>

<p><details>
<summary><b>How many NTP servers would you configure in your local ntp.conf?</b></summary><br></p>

<p>Minimum 4 recomended
</details></p>

<p><details>
<summary><b>What does the column &lsquo;reach&rsquo; mean in <code>ntpq -p</code> output?</b></summary><br></p>

<ul>
<li>The <code>ntpq</code> - is used to query NTP servers which implement the recommended NTP</li>
<li>remote - is the address of the time server, with LOCAL(0) indicating the local clock.</li>
<li>refid - indicated the type of the time server. LOCAL or .LCL. means local, .DCFa. is a DCF77 receiver, .PPS. is a hardware device generating a pulse every second.</li>
<li>st - is the Stratum, which indicates the accuracy to be expected. Stratum 0 are usually atomic clocks, Stratum 1 might be radio controlled clocks.</li>
<li>when - is the time to the next update.</li>
<li>poll - is the count that when has to reach before an update is attempted</li>
<li>reach - is an octal number that is left-shifted on each update. On a successful update an 1 is shifted in, 0 otherwise.</li>
<li>delay - is the RTT to the time server</li>
<li>offset - is the difference between the remote and the local clock
</details></li>
</ul>

<p><details>
<summary><b>You need to upgrade kernel at 100-1000 servers, how you would do this?</b></summary><br></p>

<p>Using Ansible
</details></p>

<p><details>
<summary><b>How can you get Host, Channel, ID, LUN of SCSI disk?</b></summary><br></p>

<p><code>cat /proc/scsi/scsi</code>
</details></p>

<p><details>
<summary><b>How can you limit process memory usage?</b></summary><br></p>

<ul>
<li>I&rsquo;m not very sure about this, but you could also use cgroups to limit the memory usage. The advantage of cgroups is that you can control processes that are already running. By the way systemd will use cgroups to control the system services.</li>
<li><code>ulimit -v</code>
</details></li>
</ul>

<p><details>
<summary><b>What is bash quick substitution/caret replace(^x^y)?</b></summary><br></p>

<p><code>!!:gs/foo/bar/</code> - that particular feature is called quick substitution;
</details></p>

<p><details>
<summary><b>What is a tarpipe (or, how would you go about copying everything, including hardlinks and special files, from one server to another)?</b></summary><br></p>

<ul>
<li><code>cp -a</code> copies recursively preserving as much structure and metadata as possible. Hard links between files in the source directory are included in that.</li>
<li><code>rsync</code> has a -H or &ndash;hard-links option for this, and has the usual rsync benefits of being able to be stopped and restarted, and to be re-run to efficiently deal with any files that were changed during/after the previous run.</li>
<li><code>(cd src;tar cf - .) | (mkdir dst;cd dst;tar xf -)</code> - Create a tar archive in the source directory, send it over a pipe, and unpack it in the destination directory. Tar Pipe
</details></li>
</ul>

<p><details>
<summary><b>How can you tell if the httpd package was already installed?</b></summary><br></p>

<ul>
<li><code>dpkg --get-selections | grep apache</code></li>
<li><code>sudo lsof -nPi | grep &quot;:80 (LISTEN)&quot;</code> - Another approach, to find any running HTTP daemon on the default port would be:
</details></li>
</ul>

<p><details>
<summary><b>How can you list the contents of a package?</b></summary><br></p>

<ul>
<li><code>dpkg-query -L &lt;package_name&gt;</code> - To see all the files the package installed onto your system</li>
<li><code>dpkg-deb -c &lt;package_name.deb&gt;</code> - To see the files a .deb file will install
</details></li>
</ul>

<p><details>
<summary><b>How can you determine which package is better: openssh-server-5.3p1-118.1.el6_8.x86_64 or openssh-server-6.6p1-1.el6.x86_64?</b></summary><br></p>

<p>the last one (bigger version) or just google it
</details></p>

<p><details>
<summary><b>Can you explain to me the difference between block based, and object based storage?</b></summary><br></p>

<ul>
<li>Block Storage is persistant storage organized into unstructured &ldquo;blocks&rdquo;, each the same length.  An ordinary disk drive, RAID array, or USB storage key are examples of locally attached &ldquo;block storage&rdquo;. A block storage device usually can be attached and in read/write use by only one machine or compute instance at a time.</li>
<li>Object Storage is persistant storage of &ldquo;objects&rdquo; in a way that is useful for HTTP access and for making guarantees about the safe storage of data.  An object is a stream of bytes, with an associated name, a MIME type, an access control list (ACL), and other HTTP-related and random metadata.  Once an object is created and written, it cannot be changed, only copied or deleted.
Object Store systems are often configured to make very strong guarantees that the data will not be lost, even in a disaster.
</details></li>
</ul>

  </div>
</div>
<script src="https://bege13mot.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script>
  var _gaq=[['_setAccount','UA-73422311-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>
