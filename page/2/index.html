<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.75.0" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Ivan V &nbsp; </title>

  
  <link rel="stylesheet" href="https://bege13mot.github.io/css/poole.css">
  <link rel="stylesheet" href="https://bege13mot.github.io/css/hyde.css">
  <link rel="stylesheet" href="https://bege13mot.github.io/css/hyde-overrides.css">
  <link rel="stylesheet" href="https://bege13mot.github.io/css/hyde-x.css">
  <link rel="stylesheet" href="https://bege13mot.github.io/css/highlight/sunburst.css">
  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://bege13mot.github.io/touch-icon-144-precomposed.png">
  <link href="/icon/fox.png" rel="icon">

  
  
  
  
    <link rel="alternate" type="application/rss+xml" href="https://bege13mot.github.io/index.xml" title="Ivan V" />
  

  <meta name="description" content="">
  <meta name="keywords" content="">
  
</head>
<body>
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
            
        <img src="/icon/fox.png" alt="avatar" title="">    
      
      <h1></h1>
      
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="https://bege13mot.github.io/">Ivan V's Blog</a></li>
      
      <li class="sidebar-nav-item"><a href="https://bege13mot.github.io/about/">About</a></li>
      
      <li class="sidebar-nav-item"><a href="https://bege13mot.github.io/post/">Posts</a></li>
      
      <li class="sidebar-nav-item"><a href="https://bege13mot.github.io/tags/">Tags</a></li>
      
      <li class="sidebar-nav-item"><a href="https://bege13mot.github.io/categories/">Categories</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="https://github.com/Bege13mot"><img src="/icon/github.svg" class="fa"></img></a>
      <a href="https://www.goodreads.com/user/show/5520080-ivan"><img src="/icon/goodreads.svg" class="fa"></img></a>
      <a href="mailto:bege13mot@gmail.com"><img src="/icon/mail.svg" class="fa"></img></a>
      <a href="https://ru.linkedin.com/in/voronchihin"><img src="/icon/linkedin.svg" class="fa"></img></a>      
      <a href="https://bege13mot.github.io/index.xml" type="application/rss+xml"><img src="/icon/rss.svg" class="fa"></img></a>
      </li>
    </ul>

    

  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://bege13mot.github.io/post/top-down-approach/">Компьютерные сети. Нисходящий подход, Джеймс Куроуз, Кит Росс</a>
      </h1>
      <span class="post-date">Apr 16, 2017 &nbsp;  &nbsp; <a href="https://bege13mot.github.io/post/top-down-approach/#disqus_thread">Comments</a>
      </span>
      <p>
            
      <a class="label" href="https://bege13mot.github.io/categories/post">Post</a>
      
      
      Tag:      
      <a class="label" href="https://bege13mot.github.io/tags/book">book</a><a class="label" href="https://bege13mot.github.io/tags/theory">theory</a><a class="label" href="https://bege13mot.github.io/tags/it">it</a>
      </p>
      
      <p><img src="/img/2017/cn-top-down.jpg" alt="image"></p>
<p>Пожалуй, идеальная книга для знакомства с сетями. В отличие от <a href="https://bege13mot.github.io/post/%D0%BA%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80%D0%BD%D1%8B%D0%B5-%D1%81%D0%B5%D1%82%D0%B8-%D1%8D%D0%BD%D0%B4%D1%80%D1%8E-%D1%82%D0%B0%D0%BD%D0%B5%D0%BD%D0%B1%D0%B0%D1%83%D0%BC/">Компьютерных сетей, Эндрю Таненбаума</a>, здесь упор на практические примеры. Зачем это нужно, как оно помогает решать конкретную задачу. И почти никой теории, в отличии от Таненбаума. Что как раз прекрасно подходит для новичков. А еще в книге есть великолепная глава о том, что происходит при наборе google.com в браузере с точки зрения сети. Со всеми подробностями.</p>
<h4 id="заметки">Заметки:</h4>
<ul>
<li>
<p>В контексте IP-протокола принято говорить, что подобная сеть, соединяющая три интерфейса хост-машин и один интерфейс маршрутизатора, представляет собой подсеть. В технической литературе по Интернету подсеть также иногда называется IP-сеть или просто сеть. В ходе IP- адресации данной подсети присваивается адрес 223.1.1.0/24. Часть адреса /24, иногда называемая маской подсети, указывает, что 24 крайних левых разряда 32-разрядного значения определяют адрес подсети. Соответственно, подсеть 223.1.1.0/24 состоит из трех интерфейсов хостов (223.1.1.1, 223.1.1.2 и 223.1.1.3) и одного интерфейса маршрутизатора (223.1.1.4). Любые дополнительные хосты, подключаемые к подсети 223.1.1.0/24, обязательно должны будут иметь адреса вида 223.1.1.xxx.</p>
</li>
<li>
<p>При передаче дейтаграмм используются и адреса сетевого уровня (например, IP-адреса Интернета), и адреса канального уровня (то есть MAC-адреса), поэтому возникает потребность в преобразовании одних адресов в другие. В Интернете эту работу выполняет протокол разрешения адресов (Address Resolution Protocol, ARP)&hellip; Итак, ARP-модуль преобразует IP-адрес в MAC-адрес узла. Во многом это аналогично системе DNS, преобразующей имена хостов в IP-адреса.</p>
</li>
<li>
<p>Ретроспектива: один день из жизни запроса веб-страницы
*
* <strong>Начало: DHCP, UDP, IP и Ethernet</strong></p>
<ol>
<li>
<p>Операционная система на ноутбуке Боба создает сообщение с запросом DHCP и записывает это сообщение в UDP-сегмент. В качестве порта получателя указывается порт 67 (DHCP-сервер), а порт отправителя имеет номер 68 (DHCP-клиент). После этого UDP-сегмент записывается в IP дейтаграмму с широковещательным IP-адресом получателя (255.255.255.255). IP-адрес отправителя будет равен 0.0.0.0, так как у ноутбука Боба еще нет IP-адреса.</p>
</li>
<li>
<p>IP-дейтаграмма, содержащая сообщение с запросом DHCP, затем помещается в Ethernet-кадр. Ethernet-кадр обладает MAC- адресами назначения FF:FF:FF:FF:FF:FF, поэтому кадр будет широковещательно передаваться всем устройствам, подключенным к коммутатору (остается надеяться, что среди этих устройств окажется и DHCP-сервер). Исходный MAC-адрес кадра совпадает с адресом ноутбука Боба, 00:16:D3:23:68:8A.</p>
</li>
<li>
<p>Широковещательный Ethernet-кадр, содержащий DHCP-запрос — это первый кадр, отправленный ноутбуком Боба на Ethernet- коммутатор. Коммутатор широковещательно передает этот входящий кадр на все свои выходные порты, в том числе на порт, подключенный к маршрутизатору.</p>
</li>
<li>
<p>Маршрутизатор получает широковещательный Ethernet-кадр с DHCP- запросом на интерфейс с MAC-адресом 00:22:6B:45:1F:1B, после чего IP-дейтаграмма извлекается из Ethernet-кадра. Широковещательный IP-адрес назначения дейтаграммы указывает, что IP-дейтаграмма должна быть обработана на данном узле более высокоуровневыми протоколами, поэтому полезная нагрузка дейтаграммы (UDP-сегмент) демультиплексируется вплоть до UDP, а сообщение с запросом DHCP извлекается из UDP-сегмента. Итак, теперь у DHCP-сервера есть сообщение с запросом DHCP.</p>
</li>
<li>
<p>Предположим, что DHCP-сервер, работающий на маршрутизаторе, может выделять адреса из блока CIDR 68.85.2.0/24. Таким образом, в данном примере все IP-адреса университета будут относиться к блоку адресов провайдера Comcast. Далее допустим, что DHCP-сервер выделяет ноутбуку Боба адрес 65.85.2.101. DHCP-сервер создает сообщение DHCP ACK, в котором содержится этот IP-адрес, а также следующая информация: IP-адрес DNS-сервера (68.87.71.226), IP-адрес шлюзового маршрутизатора, задаваемого по умолчанию (68.85.2.1) и, наконец, блок подсети (65.85.2.0/24), он же — «маска сети». DHCP-сообщение записывается в UDP-сегмент, который заключается в IP-дейтаграмму, а она, в свою очередь — в Ethernet-кадр. Ethernet-кадр располагает исходным MAC-адресом (это адрес интерфейса маршрутизатора, соединяющего маршрутизатор с домашней сетью — 00:22:6B:45:1F:1B) и конечным MAC-адресом (это адрес ноутбука Боба 00:16:D3:23:68:8A).</p>
</li>
<li>
<p>Ethernet-кадр, содержащий сообщение DHCP ACK (одноадресно), передается маршрутизатором на коммутатор. Поскольку коммутатор является самообучающимся, а ранее получил Ethernet-кадр (с DHCP-запросом) с ноутбука Боба, коммутатору уже известно, что кадр, идущий на адрес 00:16:D3:23:68:8A, нужно просто передать на выходной порт, ведущий к ноутбуку Боба.</p>
</li>
<li>
<p>Ноутбук Боба получает сообщение DHCP ACK, извлекает IP-дейтаграмму из Ethernet-кадра, затем UDP-сегмент из IP-дейтаграммы, после чего — сообщение DHCP ACK из UDP-сегмента. Затем DHCP-клиент с ноутбука Боба записывает его IP-адрес, а также IP-адрес его DNS-сервера. Кроме того, он заносит адрес в свою IP- таблицу маршрутизации. Ноутбук Боба будет отсылать на заданный по умолчанию шлюз все дейтаграммы, чей адрес назначения находится вне его подсети 68.85.2.0/24. На данном этапе ноутбук Боба уже инициализировал свои сетевые компоненты и готов обрабатывать операции выборки веб-страниц.</p>
<ul>
<li><strong>Начало продолжается: DNS и ARP</strong></li>
</ul>
</li>
<li>
<p>Когда Боб вводит в браузер адрес <a href="http://www.google.com">www.google.com</a>, начинается длинная цепочка событий. Ее конечный результат — отображение главной страницы Google в браузере. Для этого операционная система на ноутбуке Боба создает сообщение с запросом DNS, помещая строку «www.google.com» в тот раздел DNS-сообщения, где содержится запрос. Затем это DNS-сообщение записывается в UDP-сегмент с портом назначения 53 (это DNS-сервер). После этого данный UDP-сегмент помещается в IP-дейтаграмму, имеющую IP-адрес получателя 68.87.71.226 (это адрес DNS-сервера, который мы приняли в возвращенном сообщении DHCP ACK на этапе 5) и IP-адрес отправителя 68.85.2.101.</p>
</li>
<li>
<p>После этого ноутбук Боба помещает дейтаграмму, содержащую сообщение с запросом DNS, в Ethernet-кадр. Этот кадр будет отправлен (адресован на сетевом уровне) на шлюзовой маршрутизатор сети того университета, где учится Боб. Однако, хотя ноутбуку Боба и известен IP-адрес шлюзового маршрутизатора университета (65.85.2.1) — эта информация была получена в сообщении DHCP ACK на этапе 5, описанном выше, ему не известен MAC-адрес этого шлюза. Чтобы получить MAC-адрес шлюзового маршрутизатора, на ноутбуке Боба понадобится задействовать протокол ARP.</p>
</li>
<li>
<p>Ноутбук Боба создает сообщение с запросом ARP, где указывается целевой IP-адрес 68.85.2.1 (адрес шлюзового маршрутизатора). ARP-сообщение помещается в Ethernet-кадр с широковещательным адресом получателя (FF:FF:FF:FF:FF:FF), после чего ноутбук отправляет Ethernet-кадр на коммутатор, который, в свою очередь, доставляет этот кадр на все подключенные к нему устройства, в том числе на шлюзовой маршрутизатор.</p>
</li>
<li>
<p>Шлюзовой маршрутизатор получает кадр с сообщением c ARPзапросом на интерфейс, ведущий в него из университетской сети, и определяет, что целевой IP-адрес 68.85.2.1 в ARP-сообщении совпадает с IP-адресом его интерфейса. После этого шлюзовой маршрутизатор подготавливает ARP-ответ, указывая, что его MAC-адрес 00:22:6B:45:1F:1B соответствует IP-адресу 68.85.2.1. Сообщение с ARP-ответом записывается в Ethernet-кадр с адресом получателя (это ноутбук Боба). После этого кадр отправляется на коммутатор, который доставляет его на ноутбук Боба.</p>
</li>
<li>
<p>Ноутбук Боба получает кадр с ответным ARP-сообщением и извлекает MAC-адрес шлюзового маршрутизатора (00:22:6B:45:1F:1B) из этого сообщения.</p>
</li>
<li>
<p>Теперь ноутбук Боба (наконец-то!) может отправить Ethernet-кадр с DNS-запросом на MAC-адрес шлюзового маршрутизатора. Обратите внимание: IP-дейтаграмма в этом кадре имеет IP-адрес получателя 68.87.71.226 (это адрес DNS-сервера), тогда как адрес получателя кадра — 00:22:6B:45:1F:1B (это шлюзовой маршрутизатор). Ноутбук Боба отправляет кадр на коммутатор, который, в свою очередь, доставляет этот кадр на шлюзовой маршрутизатор.</p>
<ul>
<li><strong>Начало продолжается: внутридоменная маршрутизация на DNS-сервер</strong></li>
</ul>
</li>
<li>
<p>Шлюзовой маршрутизатор получает кадр и извлекает из него IP- дейтаграмму, содержащую DNS-запрос. Маршрутизатор уточняет адрес назначения этой дейтаграммы (68.87.71.226) и определяет по своей таблице маршрутизации, что дейтаграмма должна быть отправлена на маршрутизатор сети Comcast. IP-дейтаграмма помещается в кадре канального уровня для перемещения по каналу, который связывает университетский маршрутизатор с маршрутизатором Comcast. Кадр отправляется по этому каналу.</p>
</li>
<li>
<p>Вышеупомянутый маршрутизатор из сети Comcast получает кадр, извлекает IP-дейтаграмму, проверяет ее адрес получателя (68.87.71.226), а потом по своей таблице маршрутизации определяет выходной интерфейс, через который этот кадр должен быть отправлен на DNS-сервер. Таблица маршрутизации была заполнена при помощи протокола внутридоменной маршрутизации сети Comcast (это может быть протокол RIP, OSPF или IS-IS), а также с применением протокола BGP, обеспечивающего междоменную маршрутизацию в Интернете.</p>
</li>
<li>
<p>Наконец, IP-дейтаграмма, содержащая DNS-запрос, прибывает на DNS-сервер. DNS-сервер извлекает сообщение с DNS-запросом, ищет в своей базе данных DNS адрес <a href="http://www.google.com">www.google.com</a>, после чего находит запись DNS-ресурса, содержащую IP-адрес (64.233.169.105) сайта <a href="http://www.google.com">www.google.com</a> (предполагается, что эта запись уже кэширована на DNS-сервере). Как вы помните, эти кэшированные данные берутся с авторитетного DNS-сервера, отвечающего за сайт google.com. Сервер формирует ответное DNS-сообщение, в котором содержится отображение данного хост-имени на соответствующий IP-адрес, и помещает это ответное сообщение в UDP-сегмент. Сегмент, находящийся в IP-дейтаграмме, адресуется на ноутбук Боба (68.85.2.101). Эта дейтаграмма будет отправлена обратно в сеть Comcast, а оттуда далее, через Ethernet-коммутатор на ноутбук Боба.</p>
</li>
<li>
<p>Ноутбук Боба извлекает IP-адрес сервера <a href="http://www.google.com">www.google.com</a> из DNS-сообщения. Наконец, проделав всю эту огромную работу, ноутбук Боба готов подключиться к серверу <a href="http://www.google.com">www.google.com</a>!</p>
<ul>
<li><strong>Клиент-серверное взаимодействие: TCP и HTTP</strong></li>
</ul>
</li>
<li>
<p>Теперь, когда ноутбук Боба обладает IP-адресом <a href="http://www.google.com">www.google.com</a>, он может создать TCP-сокет, который будет использоваться для отправки сообщения HTTP GET на сайт www. google.com. Когда Боб создает TCP-сокет, протокол TCP в ноутбуке Боба сперва должен выполнить тройное рукопожатие с протоколом TCP на <a href="http://www.google.com">www.google.com</a>. Поэтому для начала ноутбук Боба создает сегмент TCP SYN с портом назначения 80 (для HTTP), помещает TCP-сегмент в IP-дейтаграмме, задавая IP-адрес получателя 64.233.169.105 (<a href="http://www.google.com">www.google.com</a>). Эта дейтаграмма помещается в кадр с MAC-адресом получателя 00:22:6B:45:1F:1B (шлюзовой маршрутизатор). После всех этих операций кадр отправляется на коммутатор.</p>
</li>
<li>
<p>Маршрутизаторы из университетской сети, сети Comcast и сети Google шлют дейтаграмму с пакетом TCP SYN на адрес www.google. com. Для этого используются таблицы маршрутизации каждого из них, как описано выше в шагах 14-16. Как вы помните, записи в таблицах маршрутизации, управляющие перемещением пакетов по междоменным связям между сетями Comcast и Google, формируются протоколом BGP.</p>
</li>
<li>
<p>Наконец, дейтаграмма с пакетом TCP SYN прибывает на www. google.com. Там сообщение TCP SYN извлекается из дейтаграммы и демультиплексируется на нужный сокет, ассоциированный с портом 80. Специальный сокет соединения создается для установления соединения между HTTP-сервером Google и ноутбуком Боба по протоколу TCP. Генерируется сегмент TCP SYNACK, затем этот сегмент помещается в дейтаграмме, адресованной на ноутбук Боба, и, наконец, заключается в кадре канального уровня, подходящем для передачи по каналу, соединяющему www. google.com и его первый транзитный маршрутизатор.</p>
</li>
<li>
<p>Дейтаграмма, содержащая сегмент TCP SYNACK, направляется через сети Google, Comcast и университета, в итоге оказываясь на сетевой Ethernet-карте ноутбука Боба. Дейтаграмма демультиплексируется в операционной системе на TCP-сокет, созданный в шаге 18, и этот сокет переходит в соединенное состояние.</p>
</li>
<li>
<p>Когда сокет на ноутбуке Боба (наконец-то!) готов отправлять байты на <a href="http://www.google.com">www.google.com</a>, браузер на ноутбуке создает сообщение с запросом HTTP GET, содержащее адрес URL, откуда требуется взять данные. Затем сообщение HTTP GET записывается на сокет, причем запрос GET становится полезным содержимым TCPсегмента. TCP-сегмент помещается в дейтаграмму, отправляется и доставляется на сайт <a href="http://www.google.com">www.google.com</a>, как описано в шагах 18–20 выше.</p>
</li>
<li>
<p>HTTP-сервер по адресу <a href="http://www.google.com">www.google.com</a> считывает сообщение HTTP GET с TCP-сокета, создает HTTP-ответ (раздел 2.2), помещает контент запрошенной веб-страницы в тело ответного HTTP-сообщения, после чего отправляет это сообщение на TCP-сокет.</p>
</li>
<li>
<p>Дейтаграмма, содержащая HTTP-ответ, направляется через сети Google, Comcast и университетскую сеть, после чего прибывает на ноутбук Боба. Браузер на ноутбуке считывает HTTP-сообщение с сокета, извлекает html-код веб-страницы из тела HTTP-ответа и (наконец-то!) отображает веб-страницу.</p>
</li>
</ol>
</li>
<li>
<p>Чтобы решить проблему доставки огромных потоков данных пользователям из разных стран, почти все крупные компании используют сети распространения контента (Content Distribution Network, CDN). Сеть CDN состоит из множества размещенных в разных местах серверов, в которых хранятся видеофайлы (и другие веб-ресурсы, такие как документы, изображения и аудиоданные); каждый пользователь перенаправляется в ту точку сети, которая является для него наиболее подходящей. CDN может принадлежать одной компании, предоставляющей данные (как в случае с компанией Google, которая распространяет видеоролики и другие данные через сервис YouTube), или использоваться сразу нескольки- ми провайдерами (например, компания Akamai предоставляет CDN для многих сервисов, в том числе для Netflix и Hulu)&hellip; Большинство сетей CDN выполняют перехват и перенаправление на уровне DNS.</p>
</li>
<li>
<p>Важная область практического применения цифровых подписей — это сертификация с открытым ключом. Такая сертификация удостоверяет, что открытый ключ принадлежит конкретному лицу.Сертификация с открытым ключом применяется во многих популярных сетевых протоколах — в частности, в IPsec и SSL.</p>
</li>
<li>
<p>Чтобы решить проблему неэффективности, будем использовать сеансовый ключ. Во-первых, Алиса случайным образом выбирает симметричный сеансовый ключ KS, во-вторых, зашифровывает этим ключом KS свое сообщение m, в-третьих, зашифровывает сеансовый ключ KS открытым ключом Боба K+B, в-четвертых, формирует из всех зашифрованных данных один пакет и, в-пятых, посылает этот пакет по адресу электронной почты Боба. Получив сообщение, Боб, во-первых, с помощью своего закрытого ключа K–B получает сеансовый ключ KS, во-вторых, с помощью сеансового ключа сеанса KS расшифровывает сообщение m.</p>
</li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://bege13mot.github.io/post/start-with-no/">Сначала скажите &#39;НЕТ&#39;. Секреты профессиональных переговорщиков, Джим Кэмп</a>
      </h1>
      <span class="post-date">Mar 21, 2017 &nbsp;  &nbsp; <a href="https://bege13mot.github.io/post/start-with-no/#disqus_thread">Comments</a>
      </span>
      <p>
            
      <a class="label" href="https://bege13mot.github.io/categories/post">Post</a>
      
      
      Tag:      
      <a class="label" href="https://bege13mot.github.io/tags/book">book</a><a class="label" href="https://bege13mot.github.io/tags/psychology">psychology</a><a class="label" href="https://bege13mot.github.io/tags/non-fiction">non-fiction</a>
      </p>
      
      <p><img src="/img/2017/start-with-no.jpg" alt="image"></p>
<p>Эту книгу советуют чуть ли не в каждом посте о &ldquo;бюро Артёма Горбунова&rdquo;. Её и ещё &ldquo;Пиши, сокращай&rdquo;. На удивление понравилось.</p>
<p>Почему на удивление? Я видел два типа книг о переговорах. Одни больше про психологию, о сбоях, что дает наш логический аппарат и как этим пользуются. Например, &ldquo;Психология влияния&rdquo; Чалдини. Другие, про практический опыт переговоров и хитрые трюки. Например, &ldquo;Договориться можно обо всем!&rdquo; Кеннеди. Эти, с трюками, книги и статьи не чураются применять собственные приемы на читателях. Множественно повторение одного и того же, &ldquo;вывернутые&rdquo; причинно-следственные связи, освещение только одной стороны вопроса и т.д. Несомненно, полезно прочитать об этом один раз, не более.</p>
<p>На первый взгляд, Кэмп должен относиться ко второй категории. Он использует все те же трюки с повторением, однобокое освещение вопросов, одно только постоянное упоминание модели переговоров &ldquo;win-win&rdquo; чего стоит. Но так делают многие &ldquo;американские&rdquo; авторы. А в методике Кэмпа минимум трюков, максимум подготовки, уважение к оппоненту, некий &ldquo;стоицизм&rdquo; - отказывайтесь от всего ненужного, ожидайте худшего. Весьма полезная книга.</p>
<h4 id="заметки">Заметки:</h4>
<ul>
<li>
<p>Любые переговоры — это соглашение между двумя или более сторонами, в котором каждая из сторон имеет право вето — право сказать «нет».</p>
</li>
<li>
<p>Никогда, ни при каких обстоятельствах не «рассыпайте бобы» за столом переговоров или где угодно еще.</p>
</li>
<li>
<p>Никогда не начинайте переговоров — никогда не делайте даже телефонного звонка — без соответствующего плана или заранее подготовленного «регламента».</p>
</li>
<li>
<p>Единственные адекватные цели — те, которыми вы можете управлять: ваше собственное поведение и действия.</p>
</li>
<li>
<p>Наша миссия должна обращаться к миру противника; наш мир должен оставаться на втором плане.</p>
</li>
<li>
<p>Расходуйте как можно больше времени на действия, которые «оплачиваются», и как можно меньше — на те, которые «не оплачиваются».</p>
</li>
<li>
<p>Вы ни в чем не нуждаетесь. Вы просто чего-то хотите.</p>
</li>
<li>
<p>Никогда не спасайте противника. Спасти противника невозможно.</p>
</li>
<li>
<p>Только один человек на переговорах может чувствовать себя «в порядке». И этот человек — ваш противник.</p>
</li>
<li>
<p>Все действия — все решения — начинаются с видения. Без видения они невозможны.</p>
</li>
<li>
<p>Всегда демонстрируйте уважение «блокатору».</p>
</li>
<li>
<p>Все соглашения необходимо прояснить пункт за пунктом и проговорить трижды (при помощи техники «3 +»).</p>
</li>
<li>
<p>Чем яснее видна боль, тем проще процесс принятия решения.</p>
</li>
<li>
<p>Ценность переговоров растет по мере увеличения потраченных на них времени, энергии, денег и эмоций.</p>
</li>
<li>
<p>Избегайте пустых разговоров.</p>
</li>
<li>
<p>Всегда давайте противнику возможность сохранить лицо.</p>
</li>
<li>
<p>Самая замечательная презентация, которую вы можете сделать, — та, которой ваш противник никогда не увидит.</p>
</li>
<li>
<p>Переговоры заканчиваются только тогда, когда мы хотим их закончить.</p>
</li>
<li>
<p>«Нет» — хорошо, «да» — плохо, «может быть» — хуже всего.</p>
</li>
<li>
<p>Научитесь описывать боль.</p>
</li>
<li>
<p>Миссия управляет всем.</p>
</li>
<li>
<p>Решения эмоциональны на сто процентов.</p>
</li>
<li>
<p>Открытые вопросы способствуют формированию видения.</p>
</li>
<li>
<p>Проявляйте заботу.</p>
</li>
<li>
<p>Ничего не предполагайте. Ничего не ожидайте. Освободите свое сознание.</p>
</li>
<li>
<p>Кто на самом деле принимает решения? Вы знаете всех этих людей?</p>
</li>
<li>
<p>Платите вперед.</p>
</li>
<li>
<p>Я настоятельно прошу вас начать вести ежедневный отчет, дневник, в котором вы спрашиваете себя, как часто и насколько эффективно вы контролировали свои потребности, были «не в порядке», говорили «нет» и поощряли отказы, заботились о противнике, использовали контрвопросы, технику «3 +» и «связки», задавали открытые вопросы, делали записи, приняли к сведению неудачное решение противника.</p>
</li>
<li>
<p>Миссия должна быть адекватной. Что такое адекватная миссия? Прежде всего, она должна обращаться к миру противника.
Вы, конечно, можете спросить: если это — моя миссия, зачем же мне концентрироваться на ком-то другом? Затем что, если только вы не живете в полном одиночестве на необитаемом острове, ваша миссия состоит в том, чтобы концентрироваться на ком-то другом. Этот другой — основа вашей жизни, являетесь ли вы политическим деятелем, врачом, пациентом, бизнесменом или участником переговоров. Никогда не забывайте об этом.</p>
</li>
<li>
<p>Умение задавать хорошие вопросы — самое качественное наше «горючее». Это — основная поведенческая цель. Остальные четыре из пяти других поведенческих целей, которые я называю «горючим» системы Кэмпа, оказывают непосредственную поддержку нашим вопросам Они помогают контролировать то, что мы говорим, и использовать свои слова в собственных же интересах. Я называю эти четыре типа приемов так: «забота», «контрвопрос», «связка» и «3 +». Пятый вид «горючего» не связан с вопросами и называется «травить леску».</p>
</li>
<li>
<p>Хорошо подготовленная повестка дня или мини-повестка включает пять основных пунктов:
1. Проблемы.
2. Наш эмоциональный багаж.
3. Эмоциональный багаж противника.
4. Чего мы хотим от ситуации.
5. Что произойдет потом.</p>
</li>
<li>
<p>Когда цена справедлива, я плачу сполна. Это дает мне силу настаивать на том, чтобы мне тоже платили сполна, когда это справедливо. В этом мире мы обычно получаем то, за что платим. Помните об этом и действуйте, исходя из самых высоких представлений о самом себе.</p>
</li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://bege13mot.github.io/post/links-10/">Ссылки №10</a>
      </h1>
      <span class="post-date">Mar 20, 2017 &nbsp;  &nbsp; <a href="https://bege13mot.github.io/post/links-10/#disqus_thread">Comments</a>
      </span>
      <p>
            
      <a class="label" href="https://bege13mot.github.io/categories/link">Link</a>
      
      </p>
      
      <p><a href="https://habrahabr.ru/company/funcorp/blog/321508/">Остроумие и отвага: как мы много раз ошибались, создавая iFunny</a></p>
<p><a href="http://dev-books.com/">Top of most mentioned books on stackoverflow.com</a></p>
<p><a href="https://medium.freecodecamp.com/an-animated-guide-to-flexbox-d280cf6afc35#.3tytytpg9">How Flexbox works — explained with big, colorful, animated gifs</a></p>
<p><a href="https://ru.alxschwarz.com/2009/03/lsof-netstat/">lsof and netstat</a> - поиск открытых файлов и сетевых соединений.</p>
<p><a href="https://codeahoy.com/2017/01/20/hhtop-explained-visually/">htop Explained Visually</a></p>
<p><a href="https://www.gitbook.com/book/frontendmasters/front-end-handbook-2017/details">Front-End Developer Handbook 2017</a></p>
<p><a href="https://habrahabr.ru/company/yandex/blog/318098/">Мобильный опыт Яндекса в трех видеокурсах: дизайн, разработка, интерфейсы</a></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://bege13mot.github.io/post/habits-of-happy-brain/">Гормоны счастья. Как приучить мозг вырабатывать серотонин, дофамин, эндорфин и окситоцин. Лоретта Бройнинг</a>
      </h1>
      <span class="post-date">Mar 10, 2017 &nbsp;  &nbsp; <a href="https://bege13mot.github.io/post/habits-of-happy-brain/#disqus_thread">Comments</a>
      </span>
      <p>
            
      <a class="label" href="https://bege13mot.github.io/categories/post">Post</a>
      
      
      Tag:      
      <a class="label" href="https://bege13mot.github.io/tags/book">book</a><a class="label" href="https://bege13mot.github.io/tags/non-fiction">non-fiction</a><a class="label" href="https://bege13mot.github.io/tags/psychology">psychology</a>
      </p>
      
      <p><img src="/img/2017/happy-brain.jpg" alt="image"></p>
<p>Книжку нашел благодаря вот этой, отличной статье, <a href="http://www.prometa.pro/2016/04/%D1%81%D1%87%D0%B0%D1%81%D1%82%D1%8C%D0%B5-%D0%B5%D1%81%D1%82%D1%8C-%D0%BD%D0%BE-%D0%B2%D0%B0%D0%BC-%D0%B2%D1%81%D0%B5-%D1%80%D0%B0%D0%B2%D0%BD%D0%BE-%D0%BD%D0%B5-%D0%BF%D0%BE%D0%BD%D1%80%D0%B0%D0%B2">на prometa.pro</a>. Понравилось даже больше книги. Совсем не хочу сказать, что книга плохая, очень даже хорошая. Просто, на мой вкус, слишком &ldquo;упрощенная&rdquo;. Это классно для статьи, но недостаточно для нон-фикшена. Хочется больше деталей, &ldquo;физики&rdquo; процесса и т.д. Но это я придираюсь, не прочитал бы статью, от всей души рекомендовал бы к прочтению.</p>
<h4 id="заметки">Заметки:</h4>
<ul>
<li>
<p>Одни и те же действия и проявления нового алгоритма вашего поведения вы должны будете повторять в течение 45 дней вне зависимости от того, нравится вам это или нет.</p>
</li>
<li>
<p>Чувство, которое мы описываем как «счастье», обеспечивается наличием в мозге четырех особых нейрохимических веществ: дофамина, эндорфина, окситоцина и серотонина.</p>
</li>
<li>
<p>Каждое из этих нейрохимических веществ «включает» у человека специфическое положительное ощущение:</p>
<ul>
<li>Дофамин создает чувство радости от того, что человек находит что-то необходимое. Это то чувство, когда люди произносят: «Эврика! Я нашел!»</li>
<li>Эндорфин формирует чувство легкости и забвения, которое помогает смягчать боль. Часто такое состояние называют эйфорией.</li>
<li>Окситоцин дает человеку ощущение безопасности в кругу себе подобных. Теперь это называется «социальные связи».</li>
<li>Серотонин создает у человека чувство признания и уважения со стороны окружающих.</li>
</ul>
</li>
<li>
<p>«Свободных» «гормонов счастья» в природе не существует. Ощущение комфорта появляется, лишь если происходит что-то важное с точки зрения выживания особи.</p>
</li>
<li>
<p>Кортизол – это система оповещения организма о чрезвычайной ситуации. Кортикоидные гормоны вырабатываются у рептилий, амфибий и даже червей в тех случаях, когда они обнаруживают угрозу жизни.</p>
</li>
<li>
<p>Все, что вы целенаправленно и постоянно делаете в годы своего «миелинового расцвета», создает мощные и разветвленные нейронные пути в вашем мозгу. Именно поэтому так часто гениальность человека проявляется именно в детстве. Именно поэтому маленькие горнолыжники так лихо пролетают мимо вас на горных спусках, которые вы не можете освоить, сколько ни стараетесь.</p>
</li>
<li>
<p>Когда вы слышите о том, что учиться никогда не поздно, в том числе и в старости, нужно помнить, что это нелегко, поскольку процессы миелинизации нервных волокон в преклонном возрасте чрезвычайно замедляются.</p>
</li>
<li>
<p>Мозг каждого человека работает по-своему. Кто-то может выпить весь кофейник, но так и не отправит резюме на соискание вакантной должности. Кто-то, может, и хотел бы рисовать, но зальет весь альбом вином. Вы можете экспериментировать с вариантами, пока не приступите к 45-дневному формированию новой привычки. Но если будете каждый раз браться за дело заново, вы никогда новых привычек не создадите.</p>
</li>
<li>
<p>Когда мне трудно воздержаться от максимализма, я напоминаю себе, что Нобелевская премия за 1978 год по экономике была присуждена Герберту Саймону за математическое доказательство того, что удовлетворенность минимумом лучше, чем стремление к максимализму. Он назвал это «ограниченной рациональностью», показав, что в силу ограниченности мыслительных ресурсов для человека чаще оптимальным является «удовлетворительное решение», а не бесконечный анализ в стремлении к «оптимуму».</p>
</li>
<li>
<p>(prometa.pro) Можно кого у годно классифицировать: д ‘Артаньян – дофаминовый (любил квесты и результаты), Атос – эндорфиновый (любил страдать), Портос – окситоциновый (ценил дружбу и принадлежность к группе), Арамис – серотониновый (гордец и карьерист). Впрочем, Атоса и Арамиса можно поменять местами, потому что Атос был тоже гордецом, помешанном на идее ложной чести, а Арамис имел склонность красиво помучаться.</p>
</li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://bege13mot.github.io/post/echopraxia/">Эхопраксия, Питер Уоттс</a>
      </h1>
      <span class="post-date">Mar 1, 2017 &nbsp;  &nbsp; <a href="https://bege13mot.github.io/post/echopraxia/#disqus_thread">Comments</a>
      </span>
      <p>
            
      <a class="label" href="https://bege13mot.github.io/categories/post">Post</a>
      
      
      Tag:      
      <a class="label" href="https://bege13mot.github.io/tags/book">book</a><a class="label" href="https://bege13mot.github.io/tags/fiction">fiction</a>
      </p>
      
      <p><img src="/img/2017/echopraxia.jpg" alt="image"></p>
<p>Прямое продолжение замечательной &ldquo;Ложной слепоты&rdquo;.</p>
<p>Сюжет закручен, научные выкладки по прежнему есть, а персонажей и &ldquo;вселенную&rdquo; здорово расширили. Но первая часть лучше. Может быть из-за проблематики, что стала не такой серьезной. В первой части был инопланетный разум, полностью не похожий на земной. А здесь, проблемы &ldquo;земные&rdquo;. Или социопатов среди героев поуменьшилось. Или из-за новизны. Точно не знаю, но уровень восторга определено упал.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://bege13mot.github.io/post/legacy-code/">Эффективная работа с унаследованным кодом, Майкл Физерс</a>
      </h1>
      <span class="post-date">Feb 28, 2017 &nbsp;  &nbsp; <a href="https://bege13mot.github.io/post/legacy-code/#disqus_thread">Comments</a>
      </span>
      <p>
            
      <a class="label" href="https://bege13mot.github.io/categories/post">Post</a>
      
      
      Tag:      
      <a class="label" href="https://bege13mot.github.io/tags/book">book</a><a class="label" href="https://bege13mot.github.io/tags/it">it</a><a class="label" href="https://bege13mot.github.io/tags/tech">tech</a>
      </p>
      
      <p><img src="/img/2017/legacy-code.jpg" alt="image"></p>
<p>Честно говоря, этот пост пиша ради двух ссылок на краткие конспекты. Книга прочитана, но этого очевидно мало. Нужна практика, перечитывание и так далее. А рецензию на её уже и без меня много раз писали.</p>
<h4 id="заметки">Заметки:</h4>
<ul>
<li>
<p>Краткий конспект <a href="http://www.red-gate.com/blog/building/working-effectively-with-legacy-code">на английском</a></p>
</li>
<li>
<p>И <a href="http://developer.uz/books/unasledovanniy_cod_fizers">на русском</a></p>
</li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://bege13mot.github.io/post/git-cheatsheet/">Шпаргалки по Git</a>
      </h1>
      <span class="post-date">Feb 20, 2017 &nbsp;  &nbsp; <a href="https://bege13mot.github.io/post/git-cheatsheet/#disqus_thread">Comments</a>
      </span>
      <p>
            
      <a class="label" href="https://bege13mot.github.io/categories/post">Post</a>
      
      
      Tag:      
      <a class="label" href="https://bege13mot.github.io/tags/tech">tech</a><a class="label" href="https://bege13mot.github.io/tags/it">it</a>
      </p>
      
      <p>Графические шпаргалки: <a href="http://files.zeroturnaround.com/pdf/zt_git_cheat_sheet.pdf">раз</a> и <a href="https://raw.githubusercontent.com/hbons/git-cheat-sheet/master/preview.png">два</a></p>
<h4 id="шпаргалка">Шпаргалка:</h4>
<pre><code>git init project-name

git add text.txt

git rm text.txt

git status

git commit -a -m &quot;Commit description&quot;

git push origin master

# Скачать все ветки с origin, но не мерджить их в локальный репозиторий
git fetch origin

git branch some_branch

# Начать работать с веткой some_branch (уже существующей)
git checkout -b some_branch origin/some_branch

#Просмотреть все существующие ветви
git branch -a # | grep something

git merge some_branch

#История с именами файлов и псевдографическим изображением бранчей:
git log --stat --graph

#Улучшение для log
git config --global alias.grog 'log --graph --abbrev-commit --decorate --all --format=format:&quot;%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(dim white) - %an%C(reset) %C(bold green)(%ar)%C(reset)%C(bold yellow)%d%C(reset)%n %C(white)%s%C(reset)&quot;'

#Изменения, сделанные в заданном коммите:
git show d8578edf8458ce06fbc5bb76a58c5ca4a58c5ca4

#Посмотреть, кем в последний раз правилась каждая строка файла:
git blame file.txt

#Откатиться к конкретному коммиту (хэш смотрим в «git log»):
git reset --hard d8578edf8458ce06fbc5bb76a58c5ca4a58c5ca4

#Попытаться обратить заданный commit (но чаще используется branch/reset + merge):
git revert d8578edf8458ce06fbc5bb76a58c5ca4a58c5ca4

#Просмотр изменений (суммарных, а не всех по очереди, как в «git log»):
git diff # подробности см в &quot;git diff --help&quot;

#&quot;Упаковка&quot; репозитория для увеличения скорости работы с ним:
git gc

#Добавляем ключ на github
ssh-keygen -t rsa -b 4096 -C &quot;test@test.com&quot;
vim /home/test/.ssh/id_rsa.pub
ssh -T git@github.com
</code></pre><h4 id="частые-проблемы">Частые проблемы:</h4>
<p>Закоммитил и тут же понял, что нужно внести небольшие изменения:</p>
<pre><code># внесите изменения 
git add . 
git commit --amend 
# следуйте подсказкам, чтобы изменить или оставить прежний комментарий
# теперь последний коммит содержит наше изменение!
</code></pre><p>Нужно изменить комментарий к последнему коммиту:</p>
<pre><code>git commit --amend 
# следуйте подсказкам, чтобы изменить комментарий
</code></pre><p>Закоммитил что-то в master, а оно должно быть в новой ветке:</p>
<pre><code># создайте новую ветку из текущего состояния master
git checkout -b имя-новой-ветки 
# удаляем коммит из ветки master
git checkout master 
git reset HEAD~ --hard 
git checkout имя-новой-ветки
# ваш коммит теперь живет в новой ветке
</code></pre><p>Cлучайно закоммитил не в ту ветку:</p>
<pre><code># откатываем последний коммит, но не удаляем изменения
git reset HEAD~ --soft 
git add . 
git stash 
# переключаемся на нужную ветку 
git checkout имя-верной-ветки 
git stash pop 
git add . 
git commit -m &quot;тут ваш комментарий&quot; 
# теперь изменения в нужной ветке
</code></pre><p>Запускаю diff, но ничего не происходит?</p>
<pre><code>git diff --staged
</code></pre><p>Вернуть fork к изначальному состоянию</p>
<pre><code>git remote add upstream /url/to/original/repo
git fetch upstream
git checkout master
git reset --hard upstream/master  
git push origin master --force
</code></pre><p>Сделать первый PR</p>
<pre><code>git clone /url/to/fork/repo
git remote add upstream /url/to/original/repo
git checkout master
git pull upstream master
git push origin master
git checkout -b feature/add
git push -u origin feature/add
</code></pre><p>Когда у вас есть файлы, которые специфичны для данного проекта и для вашего рабочего окружения(например, логи, third-party утилита) используйте <code>.git/info/exclude</code>. Этот файл не коммитуется и остается только в локальном репозитории.</p>
<p>Когда у вас несколько проектов и везде создается что-либо, что вы не хотите коммитить(например, *.swp файлы Vim) используйте <code>~/.gitconfig</code>. Вышеприведённый пример папки .idea, которая создается для каждого проекта как раз подходит сюда.</p>
<h4 id="полезные-ссылки">Полезные ссылки:</h4>
<ul>
<li>
<p><a href="https://marklodato.github.io/visual-git-guide/index-ru.html">Git: наглядная справка</a></p>
</li>
<li>
<p><a href="http://learngitbranching.js.org/">Learn Git Branching</a></p>
</li>
<li>
<p><a href="http://eax.me/git-commands/">Шпаргалка по работе с Git от eax.me</a></p>
</li>
<li>
<p><a href="https://git-scm.com/book/en/v2">Книга Pro Git</a></p>
</li>
<li>
<p><a href="http://www-cs-students.stanford.edu/~blynn/gitmagic/intl/ru/index.html">Книга Волшебство Git</a></p>
</li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://bege13mot.github.io/post/logs-cheatsheet/">Шпаргалки по логам</a>
      </h1>
      <span class="post-date">Feb 19, 2017 &nbsp;  &nbsp; <a href="https://bege13mot.github.io/post/logs-cheatsheet/#disqus_thread">Comments</a>
      </span>
      <p>
            
      <a class="label" href="https://bege13mot.github.io/categories/post">Post</a>
      
      
      Tag:      
      <a class="label" href="https://bege13mot.github.io/tags/tech">tech</a><a class="label" href="https://bege13mot.github.io/tags/it">it</a>
      </p>
      
      <p>Прошло уже два года со времен прошлой статьи <a href="https://bege13mot.github.io/post/powershell-for-testers/">powershell для тестировщиков</a> по парсингу логов. Теперь больше работаю с Linux серверами и можно переписать статью.</p>
<p>Основная цель - собрать наиболее часто используемые команды и &ldquo;хитрые техники&rdquo; для повседневной работы уитилит <em>grep, find, sed, awk</em>. И так, приступим.</p>
<h3 id="поиск-по-логам">Поиск по логам:</h3>
<ul>
<li><em>find</em> - поиск файлов по имени</li>
<li><em>grep</em> - поиск текста в файле</li>
<li><em>sort</em> - сортировка</li>
<li><em>uniq</em> - фильтрация</li>
</ul>
<h4 id="find-и-grep">Find и Grep:</h4>
<pre><code># Поиск по pattern в file. Для архивов удобно использовать zgrep
# Ключи: r - рекурсивный поиск, E - поддержка регулярных выражений (egrep), o - выводит только совпадений, v - все кроме указанного(invert-match), H - имя файла
grep -rEovH pattern file

# Найти файлы в директория
find . -path './web*/somethin/test.log*

# Найти все файлы, без учета регистра и искать в них pattern с перенаправлением ошибок
find . -type f -iname '*.log*' 2&gt;/dev/null -exec grep -H 'pattern' {} \;
</code></pre><h4 id="sort-и-uniq">Sort и Uniq:</h4>
<pre><code># Найдем общие строки между двумя файлам
sort file1 file2 | uniq -d

# Найдем частоту события pattern. 
# sort - сортируем (конкеретно в этом случае не обязательно)
# uniq -ci - удаляем подсчитываем и удаляем дубликаты, i - без учета регистра
# sort -rn - сортируем по числу появлений, по убыванию
grep -oh 'pattern \[.*\]' test.log* | sort | uniq -ci | sort -rn
</code></pre><h4 id="примеры-из-практики">Примеры из практики:</h4>
<p>Часто возникает необходимость найти какое-то событие, узнать номер &ldquo;thread&rdquo; и дальше посмотреть всю историю. В этом поможет конструкция ниже:</p>
<pre><code>grep &quot;`grep 'pattern' test.log | grep -oh &quot;\w\{0,\}.n11&quot;`&quot; test.log.

# Усложним ситуацию. Нам надо найти когда для пользователей в рамках одного &quot;thread&quot; случилось два события. Oдин из способов это сделать:
find . -path './2017-05-*/test.log*' | while read path; do zgrep &quot;`zgrep 'TEST_EVENT 1'  $path | awk '{print $4}'`&quot; $path | grep -H 'TEST_EVENT 1' -B 2 -A 2 | grep '&quot;TEST_EVENT 2&quot;'; done  
</code></pre><p>Кстати, здесь используется отображение строк до совпадения и после совпадения - <code>grep 'TEST_EVENT 1' -B 2 -A 2</code>, а также цикл по найденным файлам - <code>while read path; do zgrep 'pattern' $path; done</code></p>
<p>При поиске регулярных выражений по маске <code>'(pattern1|pattern2)'</code> <em>grep</em> выводит результат в двух разных строках. Решить эту проблему нам поможет <em>Perl</em>.</p>
<pre><code># Две строки для каждого совпадения
find . -path './test*/test.log*' -exec zgrep -H 'login/email' {} \; | grep '\[received\]' | egrep -o '(.+\.gz|\w+-\w+-\w+ \d\d:\d\d:\d\d|&quot;email&quot;:&quot;.+@.+\.\w+&quot;)'

# Одна строка
# Ключи -n - выполнение кода, -e - задает код, -l - обработка окончаний строк
find . -path './test*/test.log*' -exec zgrep -H 'login/email' {} \; | grep '\[received\]' | perl -lne 'print /(.+\.gz|\w+-\w+-\w+ \d\d:\d\d:\d\d|&quot;email&quot;:&quot;.+@.+\.\w+&quot;)/g'
</code></pre><p>Полезные ссылки:</p>
<ul>
<li><a href="https://explainshell.com">Explain Shell</a></li>
<li><a href="https://myopsblog.wordpress.com/2016/03/28/linux-command-prompt-educational-table/">Linux Shell cheatsheet</a></li>
<li><a href="http://eax.me/regular-expr/">Памятка по регулярным выражениям</a></li>
<li><a href="https://habrahabr.ru/post/70610/">Однострочные программы на Perl</a></li>
</ul>
<h3 id="sed">Sed:</h3>
<p><em>Sed</em> - потоковый текстовый редактор</p>
<h4 id="синтаксис">Синтаксис:</h4>
<pre><code># Печатать строки где есть pattern
sed -n ‘/pattern/p’ file

# Удалить все пустые строки
sed -i ‘/^$/d’ file – remove all blank lines from file

# Заменить word1 на word2, word3 на word4
sed ‘s/word1/word2/g; s/word3/word4/g’ file– replacement with multiple patterns in file
</code></pre><h4 id="примеры-из-практики-1">Примеры из практики:</h4>
<pre><code># Заменить одно значение переменной на другое
find -type f -name &quot;test.*&quot; -exec sed -i 's/MaxSize=[0-9][0-9][0-9]/MaxSize=384/' {} \;\

# Рекурсивная замена по всем вхождениям
find /home/user/ -type f | xargs sed -i  ‘s/a.example.com/b.example.com/g’ – recursively substitute each mattern match in files located on /home/user

# Убираем из вывода все коменты и пустые строки.
cat /opt/local/etc/squid/squid.conf | sed '/ *#/d; /^ *$/d'

# Используем регулярные выражения в find. Без sed не работают
find ./_filestorage/ -regextype sed -regex &quot;.*/[a-f0-9\-]\{36\}\.\(jpg\|JPG\|png\|PNG\|gif\|GIF\)&quot;
</code></pre><p>Полезные ссылки:</p>
<ul>
<li><a href="http://www.funtoo.org/Sed_by_Example,_Part_1">Sed by Example</a></li>
<li><a href="https://www.opennet.ru/docs/RUS/bash_scripting_guide/a14586.html">Маленький учебник по Sed и Awk</a></li>
</ul>
<h3 id="awk">Awk:</h3>
<ul>
<li><em>Awk</em> - язык обработки текстовой информации</li>
</ul>
<h4 id="синтаксис-1">Синтаксис:</h4>
<pre><code># F - разделитель 
# NF - число полей в текущей записи (number of fields)
# NR - номер текущей записи (record number)
# FNR - номер записи для текущего файла

# Печатаем первую колонку, разделитель - пробелы или табы
awk ‘{print $1}’ file

# Разделитель :
awk -F ‘:’ ‘{print $1}’ file

# Сумма всех строк для 3 колонки
awk ‘{sum+=$3} END {print sum}’ file

# Среднее для 2 колонки
awk ‘{avg+=$2}END{print avg/NR}’ file

# Вывести все после 3 строки
awk ‘NR&gt;3’ file– print everything aftчисло полей в текущей записи the 3rd line

# Частота использования IP
awk '{ array[$2]++ } END {for (ip in array) print array[ip],ip}' access.log
</code></pre><h4 id="примеры-из-практики-2">Примеры из практики:</h4>
<p>Необходимо посчитать разницу между получением и отменой офера, для этого использовалась функция <em>mktime</em> для работы с временем.</p>
<pre><code>zgrep -E &quot;(Quotation:.+ - notification for .+ cancelled|Quotation:.+ - offer is sent to .+)&quot; ./test/offers.log.gz | awk ' {print ($14 == &quot;&quot; ? $1 &quot; &quot; $2 &quot; &quot; $7 &quot; &quot; $12 : $1 &quot; &quot; $2 &quot; &quot; $7 &quot; &quot; $14) };' | awk '{gsub(&quot;-&quot;, &quot; &quot;, $1); gsub(/,[0-9][0-9][0-9]/, &quot;&quot;, $2); gsub(&quot;:&quot;, &quot; &quot;, $2); print mktime($1 &quot; &quot; $2) &quot; &quot; $3 &quot; &quot; $4;}' | awk '{
if (array[$3]==&quot;&quot;&amp;&amp;q==&quot;&quot;||(array[$3]==&quot;&quot; &amp;&amp; q==$2)) {array[$3]=$1;q=$2}
else if (array[$3]!=&quot;&quot; &amp;&amp; q==$2) {array[$3]=$1-array[$3];}
else {for (i in array) {if (array[i]!=&quot;&quot;) print q, i, array[i];}; delete array;array[$3]=$1;q=$2;}
} END{for (i in array) print q, i, array[i];}'
</code></pre><p>Полезные ссылки:</p>
<ul>
<li><a href="http://www.funtoo.org/Awk_by_Example,_Part_1">Awk by Example</a></li>
<li><a href="http://lib.ru/MAN/DEMOS210/awk.txt">Язык обработки структурированных текстов AWK</a></li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://bege13mot.github.io/post/arthur-george/">Артур и Джордж, Джулиан Барнс</a>
      </h1>
      <span class="post-date">Feb 10, 2017 &nbsp;  &nbsp; <a href="https://bege13mot.github.io/post/arthur-george/#disqus_thread">Comments</a>
      </span>
      <p>
            
      <a class="label" href="https://bege13mot.github.io/categories/post">Post</a>
      
      
      Tag:      
      <a class="label" href="https://bege13mot.github.io/tags/book">book</a><a class="label" href="https://bege13mot.github.io/tags/fiction">fiction</a>
      </p>
      
      <p><img src="/img/2017/arthur-george.jpg" alt="image"></p>
<p>Не правда, и не ложь, не биография, но и не вымысел. Единственный достоверный факт - талант рассказчика у Джулиана Барнса.</p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://bege13mot.github.io/post/links-9/">Ссылки №9</a>
      </h1>
      <span class="post-date">Feb 5, 2017 &nbsp;  &nbsp; <a href="https://bege13mot.github.io/post/links-9/#disqus_thread">Comments</a>
      </span>
      <p>
            
      <a class="label" href="https://bege13mot.github.io/categories/link">Link</a>
      
      </p>
      
      <p><a href="https://habrahabr.ru/company/centosadmin/blog/321074">Хроника инцидента с базой данных GitLab.com от 2017/01/31</a> - перевод оригинальных постов <a href="https://docs.google.com/document/d/1GCK53YDcBWQveod9kfzW-VCxIABGiryG7_z_6jHdVik/pub">один</a> и <a href="https://about.gitlab.com/2017/02/01/gitlab-dot-com-database-incident/">два.</a></p>
<p><a href="https://ru.alxschwarz.com/teach-dont-tell/">Учить, а не рассказывать</a> - о написании технической документации. Читать и мечтать о недостижимом идеале.</p>
<p><a href="https://www.youtube.com/playlist?list=PLH-XmS0lSi_yLq2XS2Y1DScY6NPbQj4Dt">Лекции с HighLoad++ 2016</a></p>
<p><a href="http://lifepluslinux.blogspot.ru/2017/01/look-before-you-paste-from-website-to.html">Look before you paste from a website to terminal</a> - наглядная демонстрация вреда от копирования напрямую в терминал.</p>
<p><a href="https://www.expeditedssl.com/aws-in-plain-english">Amazon Web Services in Plain English</a> - просто и понятно.</p>
<p><a href="https://github.com/minimaxir/big-list-of-naughty-strings/blob/master/blns.txt">Big-list-of-naughty-strings</a> - однажды пригодится.</p>
<p><a href="http://use-the-index-luke.com/blog/2016-07-29/on-ubers-choice-of-databases">On Uber’s Choice of Databases</a> - разжевывание особенностей работы PostgreSQL.</p>

      
    </div>
    
    
<ul class="pagination">
  <li class="page-item">
    <a href="/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
  </li>
  <li class="page-item">
    <a href="/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
  </li>
  <li class="page-item">
    <a class="page-link" href="/">1</a>
  </li>
  <li class="page-item active">
    <a class="page-link" href="/page/2/">2</a>
  </li>
  <li class="page-item">
    <a class="page-link" href="/page/3/">3</a>
  </li>
  <li class="page-item disabled">
    <span aria-hidden="true">&nbsp;&hellip;&nbsp;</span>
  </li>
  <li class="page-item">
    <a class="page-link" href="/page/21/">21</a>
  </li>
  <li class="page-item">
    <a href="/page/3/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
  </li>
  <li class="page-item">
    <a href="/page/21/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
  </li>
</ul>


  </div>
</div>


<script type="text/javascript">
var disqus_shortname = "bege13mot";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>

<script src="https://bege13mot.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script>
  var _gaq=[['_setAccount','UA-73422311-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>
